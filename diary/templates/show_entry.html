{% extends "navbar.html" %}

{% block body %}
<style>
    body {
        background-image: url('path/to/your/background-image.jpg'); /* Replace with your image path */
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        color: #333333;
        background: #460f46;
        

    }
    .diary-container {
        max-width: 1200px;
        margin: 50px auto;
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        background-color: #fcfcea;
    }
    .diary-entry {
        background-color: #F7F5F2;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        height: 200px;
        overflow: hidden;
    }
    .diary-entry h5 {
        margin-bottom: 10px;
    }
    .diary-entry p {
        margin-bottom: 0;
    }
    .btn-register {
    padding: 10px;
    margin: 15px 0px;
    width: 150px;
    font-size: 15px;
    background: #DE5499;
    border-radius: 10px;
    font-weight: 800;
    box-shadow: 3px 3px 0px 0px #E99F4C;
  }
  
  .btn-register:hover {
    opacity: .9;
  }

.blockquote-custom-icon {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: -40px;
  left: 19px;
}
</style>

<div class="container diary-container shadow-lg rounded-lg overflow-hidden">
    <h2 class="text-center">Your entries</h2>
    <div>
        <a href="/add-entry"><button class="btn-register text-center  ">Add new entry</button></a>
    </div>
    <div class="row ">
        {% for entries in entry %}
        <div class="col-md-4 col-sm-6 mb-3">
            <div class="card h-100 diary-entry bg-white shadow-lg rounded-lg overflow-hidden">
                <div class="card-body">
                    <h5 class="card-title text-xl font-semibold text-gray-900 mb-3">{{ entries.title | title }}</h5>
                    <p class="card-text text-base text-gray-700 mb-4">{{ entries.content|slice:":100" }}...</p>
                </div>
                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-info me-2" data-bs-toggle="modal" data-bs-target="#viewEntryModal{{ entries.id }}"><i class="bi bi-book-half"></i> View</a>
                    <a href="/update-entry/{{ entries.id }}" class="btn btn-sm btn-primary me-2"><i class="bi bi-pencil-square"></i> Edit</a>
                    <a href="/delete-entry/{{ entries.id }}" class="btn btn-sm btn-danger"><i class="bi bi-trash-fill"></i> Delete</a>
                </div>
            </div>
        </div>
        
        
        
        
        <!-- Modal for Viewing Entry -->
        <div class="modal fade" id="viewEntryModal{{ entries.id }}" tabindex="-1" aria-labelledby="viewEntryModalLabel{{ entries.id }}" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header bg-gray-100 py-2 px-4 border-b border-gray-200">
                        <h5 class="modal-title font-bold text-lg text-gray-900" id="viewEntryModalLabel{{ entries.id }}">{{ entries.title }}</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p class="text-base text-gray-700">{{ entries.content }}</p>
                        <p class="text-muted mt-3">Posted on: {{ entries.time }}</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        
        {% endfor %}
    </div>
</div>

{% endblock body %}
